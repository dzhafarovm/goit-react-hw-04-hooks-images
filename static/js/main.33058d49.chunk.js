(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__6FID1",ItemImage:"ImageGalleryItem_ItemImage__1SFcp"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3AKWi",Modal:"Modal_Modal__poWSH"}},14:function(e,t,a){e.exports={App:"App_App__1cEZt",ErrorTitle:"App_ErrorTitle__1tZ7Z"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__35ZuJ"}},25:function(e,t,a){e.exports={Button:"Button_Button__2zOqJ"}},27:function(e,t,a){e.exports={spinnerBox:"LoaderSpinner_spinnerBox__2tliQ"}},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1FWou",SearchForm:"Searchbar_SearchForm__1mWQ1",SearchFormButton:"Searchbar_SearchFormButton__1nOYD",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2wfHj",SearchFormInput:"Searchbar_SearchFormInput__1YDgI"}},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),s=a(15),u=a(4),l=a(9),i=a.n(l),m=a(2),b=a.n(m);i.a.defaults.baseURL="https://pixabay.com/api/",i.a.defaults.params={key:"22641637-7351131587a9af45879174884",image_type:"photo",orientation:"horizontal",per_page:12};var j=function(e){var t=e.q,a=e.page,n=void 0===a?1:a;return i.a.get("",{params:{q:t,page:n}}).then((function(e){return e.data.hits}))};j.propTypes={searchQuery:b.a.string,page:b.a.number};var h=a(5),p=a.n(h),f=a(1),d=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(u.a)(a,2),c=r[0],o=r[1];return Object(f.jsx)("header",{className:p.a.Searchbar,children:Object(f.jsxs)("form",{className:p.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()&&(t(c),o(""))},children:[Object(f.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(f.jsx)("span",{className:p.a.SearchFormButtonLabel,children:"Search"})}),Object(f.jsx)("input",{className:p.a.SearchFormInput,type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.currentTarget.value)}})]})})},g=a(24),O=a.n(g),_=a(12),S=a.n(_),x=function(e){var t=e.image,a=e.alt,n=e.onSelect,r=e.largeImage;return Object(f.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(f.jsx)("img",{src:t,alt:a,className:S.a.ItemImage,onClick:function(){return n(r)}})})},I=function(e){var t=e.images,a=e.query,n=e.onSelect;return Object(f.jsx)("ul",{className:O.a.ImageGallery,children:t.map((function(e){return Object(f.jsx)(x,{image:e.webformatURL,alt:a,largeImage:e.largeImageURL,onSelect:n},e.id)}))})},y=a(25),v=a.n(y),F=function(e){var t=e.onClick;return Object(f.jsx)("button",{type:"button",onClick:t,className:v.a.Button,children:"Load more"})},w=a(13),B=a.n(w),N=document.querySelector("#modal-root"),k=function(e){var t=e.onClose,a=e.largeImage,r=e.alt,o=Object(n.useCallback)((function(e){"Escape"===e.code&&t(e)}),[t]);return Object(n.useEffect)((function(){window.addEventListener("keydown",o)}),[o]),Object(n.useEffect)((function(){return function(){window.removeEventListener("keydown",o)}}),[o]),Object(c.createPortal)(Object(f.jsx)("div",{className:B.a.Overlay,onClick:t,children:Object(f.jsx)("div",{className:B.a.Modal,children:Object(f.jsx)("img",{src:a,alt:r})})}),N)},E=a(26),C=a.n(E),L=a(27),G=a.n(L),q=function(){return Object(f.jsxs)("div",{className:G.a.spinnerBox,children:[Object(f.jsx)(C.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100}),"/>"]})},T=a(14),A=a.n(T),M=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(u.a)(c,2),l=o[0],i=o[1],m=Object(n.useState)(1),b=Object(u.a)(m,2),h=b[0],p=b[1],g=Object(n.useState)([]),O=Object(u.a)(g,2),_=O[0],S=O[1],x=Object(n.useState)(!1),y=Object(u.a)(x,2),v=y[0],w=y[1],B=Object(n.useState)(!1),N=Object(u.a)(B,2),E=N[0],C=N[1];Object(n.useEffect)((function(){!function(){var e={q:a,page:h};""!==a.trim()&&(C(!1),w(!0),j(e).then((function(e){e.length>0?(S((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),L()):C(!0)})).catch((function(){return C(!0)})).finally((function(){return w(!1)})))}()}),[a,h]);var L=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},G=_.length>0&&!v;return Object(f.jsxs)("div",{className:A.a.App,children:[Object(f.jsx)(d,{onSubmit:function(e){r(e),p(1),S([])}}),E&&Object(f.jsxs)("h2",{className:A.a.ErrorTitle,children:["Search result '",a,"' not found!"]}),Object(f.jsx)(I,{images:_,query:a,onSelect:function(e){return i(e)}}),v&&Object(f.jsx)(q,{}),G&&Object(f.jsx)(F,{onClick:function(){p((function(e){return e+1}))}}),l&&Object(f.jsx)(k,{largeImage:l,alt:a,onClose:function(e){e.target!==e.currentTarget&&"Escape"!==e.code||i(null)}})]})};a(72);o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(M,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.33058d49.chunk.js.map